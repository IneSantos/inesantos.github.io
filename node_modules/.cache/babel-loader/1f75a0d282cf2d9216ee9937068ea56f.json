{"ast":null,"code":"import data from \"../services/data.json\";\n\nconst getLabelOptions = (label, onSelectFilterOption) => {\n  return data.reduce((acc, option) => {\n    if (!acc.some(e => e.label === option[label])) acc.push({\n      label: option[label],\n      onChange: onSelectFilterOption\n    });\n    return acc;\n  }, []);\n};\n\nexport const getAccordionFilters = () => {\n  const accordionFilters = new Map();\n  accordionFilters.set(\"location\", []);\n  accordionFilters.set(\"contract\", []);\n  accordionFilters.set(\"level\", []);\n  return accordionFilters;\n};\nexport const getAccordionOptions = onSelectFilterOption => {\n  const accordionFiltersMap = getAccordionFilters();\n  const accordionOptions = [...accordionFiltersMap.keys()];\n  return accordionOptions.map((option, index) => {\n    return {\n      id: `${index}`,\n      label: option,\n      options: getLabelOptions(option, onSelectFilterOption)\n    };\n  });\n};\n\nconst checkJobsFilter = (filter, keyword) => {\n  return data.filter(job => job[filter].toLowerCase().indexOf(keyword.toLowerCase()) > -1);\n};\n\nconst checkPositionAndCompany = (keyword, job) => {\n  return job.position.toLowerCase().indexOf(keyword.toLowerCase()) > -1 || job.company.toLowerCase().indexOf(keyword.toLowerCase()) > -1;\n};\n\nexport const getSearchOptions = keyword => {\n  return data.filter(job => checkPositionAndCompany(keyword, job));\n};\n\nconst getJobsFromFilters = (value, key) => {\n  return value.reduce((acc, filter) => {\n    let filteredOption = checkJobsFilter(key, filter);\n    acc.push(filteredOption);\n    return acc;\n  }, []);\n}; // const removeDuplicates = (arr) => {\n//     return arr.reduce((acc, o) => {\n//         if(!acc.some(obj => obj.id === o.id)) {\n//           acc.push(o);\n//         }\n//         return acc;\n//     },[]);\n// }\n\n\nconst isUniqueValue = (value, arr) => {\n  let isUnique = true;\n  arr.forEach(arr1 => {\n    if (arr1.length > 0) {\n      isUnique = isUnique && arr1.some(o => value.id === o.id);\n    }\n  });\n  return isUnique;\n};\n\nconst uniqueJobs = filteresJobs => {\n  const acc = [];\n  filteresJobs.forEach(arr => {\n    arr.forEach(value => {\n      if (isUniqueValue(value, filteresJobs)) !acc.some(obj => obj.id === value.id) && acc.push(value);\n    });\n  });\n  return acc;\n};\n\nexport const getFilteredJobsByOption = filterKeywords => {\n  const res = [];\n  filterKeywords.forEach((value, key) => {\n    // res.push(data.filter((d) => {\n    //     console.log(d[key]);\n    //     return  values.includes(d[key]);\n    // }));\n    // values.reduce((acc, value) => {\n    //     acc.push(data.filter((d) => {\n    //         console.log(value);\n    //         return  d[key] === key\n    //      }));\n    //      return acc;\n    // }, [])\n    res.push(getJobsFromFilters(value, key).flat());\n  }); // console.log(\"res\", uniqueJobs(res));\n\n  return uniqueJobs(res); // return filterKeywords.reduce((acc, filter) => {\n  //     let filteredOption = [];\n  //     if(!acc.length)  \n  //         filteredOption = getFilteredOption(data, filter.optionSelected, filter.keyword);\n  //     else \n  //         filteredOption = getFilteredOption(acc, filter.optionSelected, filter.keyword);\n  //         console.log(filteredOption);\n  //     return filteredOption;\n  // }, [])\n};\nexport const newIdea2 = (keyword, filterOption, filteredData) => {\n  return filteredData.filter(d => {\n    return d[filterOption] === keyword;\n  });\n};","map":{"version":3,"sources":["/Users/inescarneiro/Documents/Playground/interplanetary-job-board/src/utilities/utilities.tsx"],"names":["data","getLabelOptions","label","onSelectFilterOption","reduce","acc","option","some","e","push","onChange","getAccordionFilters","accordionFilters","Map","set","getAccordionOptions","accordionFiltersMap","accordionOptions","keys","map","index","id","options","checkJobsFilter","filter","keyword","job","toLowerCase","indexOf","checkPositionAndCompany","position","company","getSearchOptions","getJobsFromFilters","value","key","filteredOption","isUniqueValue","arr","isUnique","forEach","arr1","length","o","uniqueJobs","filteresJobs","obj","getFilteredJobsByOption","filterKeywords","res","flat","newIdea2","filterOption","filteredData","d"],"mappings":"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","sourcesContent":["import data from \"../services/data.json\";\n\nconst getLabelOptions = (label, onSelectFilterOption) => {\n    return data.reduce((acc, option) => {\n        if (!acc.some(e => e.label === option[label]))\n            acc.push({ label: option[label], onChange: onSelectFilterOption });\n\n        return acc;\n    }, []);\n}\n\nexport const getAccordionFilters = () => {\n    const accordionFilters = new Map();\n\n    accordionFilters.set(\"location\", []);\n    accordionFilters.set(\"contract\", []);\n    accordionFilters.set(\"level\", []);\n\n    return accordionFilters;\n}\n\nexport const getAccordionOptions = (onSelectFilterOption) => {\n    const accordionFiltersMap = getAccordionFilters();\n    const accordionOptions = [...accordionFiltersMap.keys()];\n\n    return accordionOptions.map((option, index) => {\n        return { id: `${index}`, label: option, options: getLabelOptions(option, onSelectFilterOption) };\n    });\n}\n\n\nconst checkJobsFilter = (filter, keyword) => {\n    return data.filter((job) => job[filter].toLowerCase().indexOf(keyword.toLowerCase()) > -1);\n}\n\nconst checkPositionAndCompany = (keyword, job) => {\n    return job.position.toLowerCase().indexOf(keyword.toLowerCase()) > -1 || job.company.toLowerCase().indexOf(keyword.toLowerCase()) > -1\n}\n\nexport const getSearchOptions = (keyword) => {\n    return data.filter((job) => checkPositionAndCompany(keyword, job));\n}\n\nconst getJobsFromFilters = (value, key) => {\n    return value.reduce((acc, filter) => {\n        let filteredOption = checkJobsFilter(key, filter);\n        acc.push(filteredOption);\n        return acc;\n    }, []);\n}\n\n// const removeDuplicates = (arr) => {\n//     return arr.reduce((acc, o) => {\n//         if(!acc.some(obj => obj.id === o.id)) {\n//           acc.push(o);\n//         }\n//         return acc;\n//     },[]);\n// }\n\nconst isUniqueValue = (value, arr) => {\n    let isUnique = true;\n    arr.forEach(arr1 => {\n        if (arr1.length > 0) {\n            isUnique = isUnique && arr1.some(o => value.id === o.id);\n        }\n    });\n    return isUnique;\n};\n\nconst uniqueJobs = (filteresJobs) => {\n    const acc = [];\n    filteresJobs.forEach(arr => {\n        arr.forEach(value => {\n            if (isUniqueValue(value, filteresJobs))\n                !acc.some(obj => obj.id === value.id) && acc.push(value);\n        })\n    })\n\n    return acc;\n}\n\nexport const getFilteredJobsByOption = (filterKeywords) => {\n    const res = [];\n    filterKeywords.forEach((value, key) => {\n        // res.push(data.filter((d) => {\n        //     console.log(d[key]);\n        //     return  values.includes(d[key]);\n        // }));\n\n        // values.reduce((acc, value) => {\n\n        //     acc.push(data.filter((d) => {\n        //         console.log(value);\n        //         return  d[key] === key\n        //      }));\n\n        //      return acc;\n        // }, [])\n        res.push(getJobsFromFilters(value, key).flat());\n    }\n    );\n\n    // console.log(\"res\", uniqueJobs(res));\n\n    return uniqueJobs(res);\n    // return filterKeywords.reduce((acc, filter) => {\n    //     let filteredOption = [];\n    //     if(!acc.length)  \n    //         filteredOption = getFilteredOption(data, filter.optionSelected, filter.keyword);\n    //     else \n    //         filteredOption = getFilteredOption(acc, filter.optionSelected, filter.keyword);\n    //         console.log(filteredOption);\n    //     return filteredOption;\n    // }, [])\n}\n\nexport const newIdea2 = (keyword, filterOption, filteredData) => {\n    return filteredData.filter((d) => {\n        return d[filterOption] === keyword\n    });\n}"]},"metadata":{},"sourceType":"module"}