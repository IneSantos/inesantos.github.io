{"ast":null,"code":"var _jsxFileName = \"/Users/inescarneiro/Documents/Playground/interplanetary-job-board/src/views/board.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport BoardPage from \"../components/pages/board\";\nimport data from \"../services/data.json\";\nimport { getAccordionOptions, getSearchOptions, getFilteredJobsByOption, getAccordionFilters, newIdea2 } from \"../utilities/utilities\";\nimport \"normalize.css\";\nimport \"./board.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BoardView = () => {\n  _s();\n\n  const [input, setInput] = useState(\"\");\n  const [jobs, setJobs] = useState(data);\n  const [filterKeywords, setfilterKeywords] = useState(getAccordionFilters);\n  const [filterKeywordsObj, setfilterKeywordsObj] = useState([]);\n  const [keyword, seteyword] = useState(\"\");\n  const [optionSelected, setOptionSelected] = useState(\"\");\n\n  const onSelectFilterOption = e => {\n    const optionSelected = e.target.getAttribute(\"data-parent\");\n    const keyword = e.target.name; //    const test = newIdea2(keyword, optionSelected, jobs);\n    //    console.log(\"newIdea\", newIdea2(keyword, optionSelected, jobs));\n    //    setJobs(test);\n\n    if (!filterKeywordsObj.includes(keyword)) {\n      setfilterKeywordsObj([...filterKeywordsObj, keyword]);\n      seteyword(keyword);\n      setOptionSelected(optionSelected);\n    } else {\n      const hello = filterKeywordsObj.filter(e => e !== keyword);\n      setfilterKeywordsObj(hello);\n    }\n\n    if (!filterKeywords.get(optionSelected).some(key => key === keyword)) {\n      const prevKeys = filterKeywords.get(optionSelected);\n      setfilterKeywords(new Map(filterKeywords.set(optionSelected, [...prevKeys, keyword])));\n    } else {\n      const newKeys = filterKeywords.get(optionSelected).filter(key => key !== keyword);\n      setfilterKeywords(new Map(filterKeywords.set(optionSelected, [...newKeys])));\n    }\n  };\n\n  const handleSearch = e => {\n    const userInput = e.target.value;\n    setInput(userInput);\n    setJobs(getSearchOptions(userInput));\n  };\n\n  const clearAll = () => {\n    setfilterKeywords(getAccordionFilters);\n  };\n\n  useEffect(() => {\n    const filteredOptions = getFilteredJobsByOption(filterKeywords);\n    console.log(filteredOptions); // if(filteredOptions.length) \n    //     setJobs(filteredOptions);\n    // else // error case\n    //     setJobs(data);\n\n    const hel = newIdea2(keyword, optionSelected, jobs);\n    console.log(hel);\n    if (hel.length && filterKeywordsObj.length) setJobs(hel);else setJobs(data);\n  }, [filterKeywordsObj, keyword, optionSelected]);\n  return /*#__PURE__*/_jsxDEV(BoardPage, {\n    jobs: jobs,\n    accordionOptions: getAccordionOptions(onSelectFilterOption),\n    handleSearch: handleSearch,\n    searchInput: input\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 12\n  }, this);\n};\n\n_s(BoardView, \"SnU4khEjlzckA/4VgZ4s0edA4rM=\");\n\n_c = BoardView;\nexport default BoardView;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardView\");","map":{"version":3,"sources":["/Users/inescarneiro/Documents/Playground/interplanetary-job-board/src/views/board.tsx"],"names":["useState","useEffect","BoardPage","data","getAccordionOptions","getSearchOptions","getFilteredJobsByOption","getAccordionFilters","newIdea2","BoardView","input","setInput","jobs","setJobs","filterKeywords","setfilterKeywords","filterKeywordsObj","setfilterKeywordsObj","keyword","seteyword","optionSelected","setOptionSelected","onSelectFilterOption","e","target","getAttribute","name","includes","hello","filter","get","some","key","prevKeys","Map","set","newKeys","handleSearch","userInput","value","clearAll","filteredOptions","console","log","hel","length"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport BoardPage from \"../components/pages/board\";\nimport data from \"../services/data.json\";\nimport { getAccordionOptions, getSearchOptions, getFilteredJobsByOption, getAccordionFilters, newIdea, newIdea2 } from \"../utilities/utilities\";\nimport \"normalize.css\";\nimport \"./board.css\";\n\nconst BoardView = () => {\n    const [input, setInput] = useState(\"\");\n    const [jobs, setJobs] = useState(data);\n    const [filterKeywords, setfilterKeywords] = useState(getAccordionFilters);\n    const [filterKeywordsObj, setfilterKeywordsObj] = useState([]);\n    const [keyword, seteyword] = useState(\"\");\n    const [optionSelected, setOptionSelected] = useState(\"\");\n \n    const onSelectFilterOption = (e) => {\n       const optionSelected = e.target.getAttribute(\"data-parent\");\n       const keyword = e.target.name;\n\n    //    const test = newIdea2(keyword, optionSelected, jobs);\n    //    console.log(\"newIdea\", newIdea2(keyword, optionSelected, jobs));\n    //    setJobs(test);\n\n        if(!filterKeywordsObj.includes(keyword)) {\n            setfilterKeywordsObj([...filterKeywordsObj, keyword]);\n            seteyword(keyword);\n            setOptionSelected(optionSelected);\n        }\n        else {\n            const hello = filterKeywordsObj.filter((e) => e !== keyword);\n            setfilterKeywordsObj(hello);\n        }\n       \n       if (!filterKeywords.get(optionSelected).some(key => key === keyword)) { \n            const prevKeys = filterKeywords.get(optionSelected);\n            setfilterKeywords(new Map(filterKeywords.set(optionSelected, [...prevKeys, keyword])));\n       }\n       else {\n            const newKeys = filterKeywords.get(optionSelected).filter((key) => key !== keyword);\n            setfilterKeywords(new Map(filterKeywords.set(optionSelected, [...newKeys])));\n       }\n    }\n\n    const handleSearch = (e) => {\n        const userInput = e.target.value;\n        setInput(userInput);\n        setJobs(getSearchOptions(userInput));\n    }\n\n    const clearAll = () => {\n        setfilterKeywords(getAccordionFilters);\n    };\n\n\n    useEffect(() => {\n        const filteredOptions = getFilteredJobsByOption(filterKeywords);\n        console.log(filteredOptions);\n        // if(filteredOptions.length) \n        //     setJobs(filteredOptions);\n        // else // error case\n        //     setJobs(data);\n\n        const hel = newIdea2(keyword, optionSelected, jobs);\n        console.log(hel);\n        if (hel.length && filterKeywordsObj.length) setJobs(hel);\n        else setJobs(data);\n\n    }, [filterKeywordsObj, keyword, optionSelected]);\n\n    return <BoardPage jobs={jobs} accordionOptions={getAccordionOptions(onSelectFilterOption)} handleSearch={handleSearch} searchInput={input}/>\n}\n\nexport default BoardView;"]},"metadata":{},"sourceType":"module"}