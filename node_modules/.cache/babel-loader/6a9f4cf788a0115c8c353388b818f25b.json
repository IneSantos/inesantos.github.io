{"ast":null,"code":"import data from \"../services/data.json\";\n\nconst getLabelOptions = (label, onSelectFilterOption) => {\n  return data.reduce((acc, option) => {\n    if (!acc.some(e => e.label === option[label])) acc.push({\n      label: option[label],\n      onChange: onSelectFilterOption\n    });\n    return acc;\n  }, []);\n};\n\nexport const getAccordionOptions = onSelectFilterOption => {\n  const accordionOptions = [\"location\", \"contract\", \"level\"];\n  return accordionOptions.map((option, index) => {\n    return {\n      id: `${index}`,\n      label: option,\n      options: getLabelOptions(option, onSelectFilterOption)\n    };\n  });\n};\n\nconst checkPositionAndCompany = (keyword, job) => {\n  return job.position.toLowerCase().indexOf(keyword.toLowerCase()) > -1 || job.company.toLowerCase().indexOf(keyword.toLowerCase()) > -1;\n};\n\nexport const getSearchOptions = keyword => {\n  return data.filter(job => checkPositionAndCompany(keyword, job));\n};\nexport const getAccordionFilters = () => {\n  const accordionFilters = new Map();\n  accordionFilters.set(\"location\", []);\n  accordionFilters.set(\"contract\", []);\n  accordionFilters.set(\"level\", []);\n  return accordionFilters;\n};\n\nconst getJobsFromFilter = (key, keyword) => {\n  return data.filter(job => job[key].toLowerCase().indexOf(keyword.toLowerCase()) > -1);\n};\n\nconst getJobsFromFilters = (value, key) => {\n  return value.reduce((acc, filter) => {\n    let filteredOption = getJobsFromFilter(key, filter);\n    acc.push(filteredOption);\n    return acc;\n  }, []);\n};\n\nconst removeDuplicates = arr => {\n  return arr.reduce((acc, o) => {\n    if (!acc.some(obj => obj.id === o.id)) {\n      acc.push(o);\n    }\n\n    return acc;\n  }, []);\n}; //const uniqueJobs = arr => [...new Set(arr.map(pair => JSON.stringify(pair)))].map(pair => JSON.parse(pair))\n\n\nconst isUniqueValue = (value, arr) => {\n  console.log(\"arr\", arr);\n  return arr.reduce((acc, arr1) => {\n    console.log(\"arr1\", arr1);\n    console.log(arr1.some(o => value.id === o.id));\n    return arr1.length > 0 && arr1.some(o => value.id === o.id);\n  }, true);\n};\n\nconst uniqueJobs = filteresJobs => {\n  const acc = [];\n  filteresJobs.forEach(arr => {\n    arr.forEach(obj => {\n      if (!acc.some(o => obj.id === o.id)) acc.push(obj);\n    });\n  });\n};\n\nexport const getFilteredJobsByOption = filterKeywords => {\n  const res = [];\n  filterKeywords.forEach((value, key) => {\n    // res.push(data.filter((d) => {\n    //     console.log(d[key]);\n    //     return  values.includes(d[key]);\n    // }));\n    // values.reduce((acc, value) => {\n    //     acc.push(data.filter((d) => {\n    //         console.log(value);\n    //         return  d[key] === key\n    //      }));\n    //      return acc;\n    // }, [])\n    res.push(getJobsFromFilters(value, key).flat());\n  });\n  console.log(\"res.flat()\", isUniqueValue(res[0][0], res));\n  return res.flat(); // return filterKeywords.reduce((acc, filter) => {\n  //     let filteredOption = [];\n  //     if(!acc.length)  \n  //         filteredOption = getFilteredOption(data, filter.optionSelected, filter.keyword);\n  //     else \n  //         filteredOption = getFilteredOption(acc, filter.optionSelected, filter.keyword);\n  //         console.log(filteredOption);\n  //     return filteredOption;\n  // }, [])\n};\nexport const newIdea2 = (keyword, filterOption, filteredData) => {\n  return filteredData.filter(d => {\n    return d[filterOption] === keyword;\n  });\n};","map":{"version":3,"sources":["/Users/inescarneiro/Documents/Playground/interplanetary-job-board/src/utilities/utilities.tsx"],"names":["data","getLabelOptions","label","onSelectFilterOption","reduce","acc","option","some","e","push","onChange","getAccordionOptions","accordionOptions","map","index","id","options","checkPositionAndCompany","keyword","job","position","toLowerCase","indexOf","company","getSearchOptions","filter","getAccordionFilters","accordionFilters","Map","set","getJobsFromFilter","key","getJobsFromFilters","value","filteredOption","removeDuplicates","arr","o","obj","isUniqueValue","console","log","arr1","length","uniqueJobs","filteresJobs","forEach","getFilteredJobsByOption","filterKeywords","res","flat","newIdea2","filterOption","filteredData","d"],"mappings":"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","sourcesContent":["import data from \"../services/data.json\";\n\nconst getLabelOptions = (label, onSelectFilterOption) => {\n    return data.reduce((acc, option) => {\n        if (!acc.some(e => e.label === option[label]))\n            acc.push({label: option[label], onChange: onSelectFilterOption});\n\n        return acc;\n    }, []);\n}\n\nexport const getAccordionOptions = (onSelectFilterOption) => {\n    const accordionOptions = [\"location\", \"contract\", \"level\"];\n\n    return accordionOptions.map((option, index) => {\n        return {id: `${index}`, label: option, options: getLabelOptions(option, onSelectFilterOption)};\n    });\n}\n\nconst checkPositionAndCompany = (keyword, job) => {\n    return job.position.toLowerCase().indexOf(keyword.toLowerCase()) > -1 || job.company.toLowerCase().indexOf(keyword.toLowerCase()) > -1\n}\n\nexport const getSearchOptions = (keyword) => {\n    return data.filter((job) => checkPositionAndCompany(keyword, job));\n}\n\n\nexport const getAccordionFilters = () => {\n    const accordionFilters = new Map();\n\n    accordionFilters.set(\"location\", []);\n    accordionFilters.set(\"contract\", []);\n    accordionFilters.set(\"level\", []);\n\n    return accordionFilters;\n}\n\nconst getJobsFromFilter = (key, keyword) => {\n    return data.filter((job) => job[key].toLowerCase().indexOf(keyword.toLowerCase()) > -1);\n}\n\nconst getJobsFromFilters = (value, key) => {\n    return value.reduce((acc, filter) => {\n                let filteredOption = getJobsFromFilter(key, filter);\n                acc.push(filteredOption);\n                return acc;\n            }, []);\n}\n\nconst removeDuplicates = (arr) => {\n    return arr.reduce((acc, o) => {\n        if(!acc.some(obj => obj.id === o.id)) {\n          acc.push(o);\n        }\n        return acc;\n    },[]);\n}\n\n//const uniqueJobs = arr => [...new Set(arr.map(pair => JSON.stringify(pair)))].map(pair => JSON.parse(pair))\n\nconst isUniqueValue = (value, arr) => {\n    console.log(\"arr\", arr);\n    return arr.reduce((acc, arr1)=> {\n        console.log(\"arr1\", arr1);\n        console.log(arr1.some(o => value.id === o.id));\n        return arr1.length > 0 && arr1.some(o => value.id === o.id);\n    }, true);\n};\n\nconst uniqueJobs = (filteresJobs) => {\n    const acc = [];\n\n    filteresJobs.forEach(arr => {\n\n        arr.forEach(obj => {\n\n            if(!acc.some(o => obj.id === o.id))\n                acc.push(obj);\n\n\n\n        })\n\n\n    })\n}\n\nexport const getFilteredJobsByOption = (filterKeywords) => {\n    const res = [];\n    filterKeywords.forEach((value, key) => {\n        // res.push(data.filter((d) => {\n        //     console.log(d[key]);\n        //     return  values.includes(d[key]);\n        // }));\n\n        // values.reduce((acc, value) => {\n\n        //     acc.push(data.filter((d) => {\n        //         console.log(value);\n        //         return  d[key] === key\n        //      }));\n\n        //      return acc;\n        // }, [])\n        res.push(getJobsFromFilters(value, key).flat());\n      }\n    );\n      \n    console.log(\"res.flat()\", isUniqueValue(res[0][0], res));\n\n    return res.flat();\n    // return filterKeywords.reduce((acc, filter) => {\n    //     let filteredOption = [];\n    //     if(!acc.length)  \n    //         filteredOption = getFilteredOption(data, filter.optionSelected, filter.keyword);\n    //     else \n    //         filteredOption = getFilteredOption(acc, filter.optionSelected, filter.keyword);\n    //         console.log(filteredOption);\n    //     return filteredOption;\n    // }, [])\n}\n\nexport const newIdea2 = (keyword, filterOption, filteredData) => {\n   return filteredData.filter((d) => {\n        return  d[filterOption] === keyword\n        });\n}"]},"metadata":{},"sourceType":"module"}